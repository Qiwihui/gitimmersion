

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="zh" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="zh" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>13. 给版本打标签 &mdash; gitimmersioncn  文档</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="索引" href="genindex.html" />
    <link rel="search" title="搜索" href="search.html" />
    <link rel="next" title="14. 撤销本地修改（在暂存之前）" href="lab-14.html" />
    <link rel="prev" title="12. 获得旧版本" href="lab-12.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> gitimmersioncn
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">目录</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="lab-1.html">1. 设置</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab-2.html">2. 更多设置</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab-3.html">3. 创建项目</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab-4.html">4. 检查状态</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab-5.html">5. 做出修改</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab-6.html">6. 暂存修改</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab-7.html">7. 暂存与提交</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab-8.html">8. 提交修改</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab-9.html">9. 聚焦修改，而不是文件</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab-10.html">10. 查看历史</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab-11.html">11. 设置别名</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab-12.html">12. 获得旧版本</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">13. 给版本打标签</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id2">目标</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#version-1">标记 version 1</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id3">标记先前的版本</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id4">按标签名检出</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tag">使用 <code class="docutils literal notranslate"><span class="pre">tag</span></code> 命令查看标签</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id5">查看日志中的标签</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="lab-14.html">14. 撤销本地修改（在暂存之前）</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab-15.html">15. 撤销暂存的修改（在提交之前）</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab-16.html">16. 撤销提交的修改</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab-50.html">50. 托管你的 Git 仓库</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab-51.html">51. 共享仓库</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab-52.html">52. 高级/未来的主题</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab-53.html">53. 谢谢</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">gitimmersioncn</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>13. 给版本打标签</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/lab-13.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="id1">
<h1>13. 给版本打标签<a class="headerlink" href="#id1" title="永久链接至标题">¶</a></h1>
<div class="section" id="id2">
<h2>目标<a class="headerlink" href="#id2" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li><p>学习如何使用名称给提交打标签以供将来引用。</p></li>
</ul>
<p>让我们称 <code class="docutils literal notranslate"><span class="pre">hello</span></code> 程序的当前版本为 version 1 (<code class="docutils literal notranslate"><span class="pre">v1</span></code>)。</p>
<div class="section" id="version-1">
<h3>标记 version 1<a class="headerlink" href="#version-1" title="永久链接至标题">¶</a></h3>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ git tag v1
</pre></div>
</div>
<p>现在你可以引用程序的当前版本为 <code class="docutils literal notranslate"><span class="pre">v1</span></code>。</p>
</div>
<div class="section" id="id3">
<h3>标记先前的版本<a class="headerlink" href="#id3" title="永久链接至标题">¶</a></h3>
<p>让我们标记当前版本之前的版本为 <code class="docutils literal notranslate"><span class="pre">v1-beta</span></code>。首先我们需要检出先前的版本。除了使用哈希值，我们可以使用 <code class="docutils literal notranslate"><span class="pre">^</span></code> 来表示“v1 的父提交”。</p>
<div class="admonition- admonition">
<p class="admonition-title"><strong>注意</strong></p>
<p>如果使用 <code class="docutils literal notranslate"><span class="pre">v1^</span></code> 表示法遇到问题，你还可以试试 <code class="docutils literal notranslate"><span class="pre">v1~1</span></code>， 这将引用相同的版本。该表示法意为“v1 的第一个祖先提交”。</p>
</div>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ git checkout v1^
$ cat hello.rb
</pre></div>
</div>
<p>输出：</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ git checkout v1^
Note: checking out <span class="s1">&#39;v1^&#39;</span>.

You are in <span class="s1">&#39;detached HEAD&#39;</span> state. You can look around, make experimental
changes and commit them, and you can discard any commits you make in this
state without impacting any branches by performing another checkout.

If you want to create a new branch to retain commits you create, you may
<span class="k">do</span> so <span class="o">(</span>now or later<span class="o">)</span> by using -b with the checkout <span class="nb">command</span> again. Example:

git checkout -b &lt;new-branch-name&gt;

HEAD is now at dc1d42f... Added a default value
$ cat hello.rb
<span class="nv">name</span> <span class="o">=</span> ARGV.first <span class="o">||</span> <span class="s2">&quot;World&quot;</span>

puts <span class="s2">&quot;Hello, #{name}!&quot;</span>
</pre></div>
</div>
<p>看，这是我们添加注释 <em>之前</em> 的默认值版本。让我们把它变成 <code class="docutils literal notranslate"><span class="pre">v1-beta</span></code>。</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ git tag v1-beta
</pre></div>
</div>
</div>
<div class="section" id="id4">
<h3>按标签名检出<a class="headerlink" href="#id4" title="永久链接至标题">¶</a></h3>
<p>现在试试在两个标签版本之间切换。</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ git checkout v1
$ git checkout v1-beta
</pre></div>
</div>
<p>输出：</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ git checkout v1
Previous HEAD position was dc1d42f... Added a default value
HEAD is now at 4d578d4... Added a comment
$ git checkout v1-beta
Previous HEAD position was 4d578d4... Added a comment
HEAD is now at dc1d42f... Added a default value
</pre></div>
</div>
</div>
<div class="section" id="tag">
<h3>使用 <code class="docutils literal notranslate"><span class="pre">tag</span></code> 命令查看标签<a class="headerlink" href="#tag" title="永久链接至标题">¶</a></h3>
<p>你可以使用 <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">tag</span></code> 命令来查看可用的标签。</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ git tag
</pre></div>
</div>
<p>输出：</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ git tag
v1
v1-beta
</pre></div>
</div>
</div>
<div class="section" id="id5">
<h3>查看日志中的标签<a class="headerlink" href="#id5" title="永久链接至标题">¶</a></h3>
<p>你也可以查看日志中的标签。</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ git hist master --all
</pre></div>
</div>
<p>输出：</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ git hist master --all
* 4d578d4 <span class="m">2019</span>-11-01 <span class="p">|</span> Added a comment <span class="o">(</span>tag: v1, master<span class="o">)</span> <span class="o">[</span>Jim Weirich<span class="o">]</span>
* dc1d42f <span class="m">2019</span>-11-01 <span class="p">|</span> Added a default value <span class="o">(</span>HEAD, tag: v1-beta<span class="o">)</span> <span class="o">[</span>Jim Weirich<span class="o">]</span>
* 9a1c494 <span class="m">2019</span>-11-01 <span class="p">|</span> Using ARGV <span class="o">[</span>Jim Weirich<span class="o">]</span>
* 063b40e <span class="m">2019</span>-11-01 <span class="p">|</span> First Commit <span class="o">[</span>Jim Weirich<span class="o">]</span>
</pre></div>
</div>
<p>你可以在日志输出中看到与分支名称（<code class="docutils literal notranslate"><span class="pre">master</span></code>）一起列出了两个标签（<code class="docutils literal notranslate"><span class="pre">v1</span></code> 和 <code class="docutils literal notranslate"><span class="pre">v1-beta</span></code>）。
<code class="docutils literal notranslate"><span class="pre">HEAD</span></code> 显示的是你当前检出的提交 （此刻是 <code class="docutils literal notranslate"><span class="pre">v1-beta</span></code>）。</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="lab-14.html" class="btn btn-neutral float-right" title="14. 撤销本地修改（在暂存之前）" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="lab-12.html" class="btn btn-neutral float-left" title="12. 获得旧版本" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; 版权所有 2019, qiwihui

    </p>
  </div>
    
    
      Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>